<!-- src/main/resources/templates/fragments/sidebar.html -->
<th:block xmlns:th="http://www.thymeleaf.org" th:fragment="sidebar">

  <style>
    /* ì ‘íˆëŠ” ê³µí†µ ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
    .sidebar.sidebar-collapsible {
      position: relative;
      transition: width .25s ease;
    }

    /* ì‚¬ì´ë“œë°” ì•ˆìª½ ë‚´ìš© â€“ í–„ë²„ê±° ë²„íŠ¼ì´ë‘ ì•ˆ ê²¹ì¹˜ê²Œ ìœ„ë¡œ ì—¬ë°± ì¤Œ */
    .sidebar.sidebar-collapsible .sidebar-body {
      padding-top: 58px; /* â† ì´ê±° ëŠ˜ë¦° ê±° */
    }

    /* í–„ë²„ê±° ë²„íŠ¼ */
    .sidebar.sidebar-collapsible .sidebar-toggle-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 30px;
      height: 26px;
      background: #d1dccf;
      border: 1px solid #b5c3b1;
      border-radius: 5px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      z-index: 50;
    }
    .sidebar.sidebar-collapsible .sidebar-toggle-btn span {
      display: block;
      width: 16px;
      height: 2px;
      background: #324b33;
      border-radius: 2px;
    }

    /* ì ‘íŒ ìƒíƒœ */
    .sidebar.sidebar-collapsible.collapsed {
      width: 70px;
      padding-left: 12px;
      padding-right: 12px;
    }

    /* ì ‘íŒ ìƒíƒœì—ì„œëŠ” ê¸€ì ìˆ¨ê¸°ê¸° */
    .sidebar.sidebar-collapsible.collapsed h2,
    .sidebar.sidebar-collapsible.collapsed .search-box,
    .sidebar.sidebar-collapsible.collapsed .menu .menu-label {
      display: none !important;
    }

    .sidebar.sidebar-collapsible.collapsed .menu .menu-item {
      justify-content: center;
      gap: 0;
      padding: 10px 0;
    }
  </style>

  <aside class="sidebar sidebar-collapsible" id="appSidebar">
    <div class="sidebar-body">
      <a th:href="@{/}">
        <h2 style="margin-bottom: 20px;">E pro</h2>
      </a>

      <nav class="menu">
        <a th:href="@{/map}">
          <div class="menu-item">
            <span class="menu-icon">ğŸŒ</span>
            <span class="menu-label">ì§€ë„ë³´ê¸°</span>
          </div>
        </a>
        <a th:href="@{/dashboard}">
          <div class="menu-item">
            <span class="menu-icon">ğŸ“</span>
            <span class="menu-label">ëŒ€ì‹œë³´ë“œ</span>
          </div>
        </a>
        <a th:href="@{/graph}">
          <div class="menu-item">
            <span class="menu-icon">ğŸ“ˆ</span>
            <span class="menu-label">ê·¸ë˜í”„</span>
          </div>
        </a>
        <a th:href="@{/notice}">
          <div class="menu-item">
            <span class="menu-icon">ğŸ“¢</span>
            <span class="menu-label">ê³µì§€ì‚¬í•­</span>
          </div>
        </a>
        <a th:href="@{/detail}">
		  <div class="menu-item">
		    <span class="menu-icon">ğŸ‘¥</span>
		    <span class="menu-label">ìƒì„¸ì„¤ëª…</span>
		  </div>
		</a>
      </nav>
    </div>

    <!-- í–„ë²„ê±° ë²„íŠ¼ -->
    <button type="button"
            class="sidebar-toggle-btn"
            onclick="(function(){ const sb=document.getElementById('appSidebar'); if(sb){ sb.classList.toggle('collapsed'); } })();">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </aside>
</th:block>
